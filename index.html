<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Afa Art Design • Gresie, Parchet, Vopsea Decorativă – Galați</title>
  <meta name="description" content="Showroom Afa Art Design Galați: gresie, parchet, vopsea decorativă Ferrara Design, riflaje, plinte și montaj profesionist în Galați, Brăila, Tulcea, Constanța." />
  <link rel="icon" href="assets/icons/favicon.ico" />
  <!-- Local Satoshi already exists in proiect (assets/css/satoshi.css) -->
  <link rel="stylesheet" href="assets/css/satoshi.css" />
  <link rel="stylesheet" href="https://unpkg.com/photoswipe@5/dist/photoswipe.css" />
  <link rel="stylesheet" href="assets/css/gallery.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
  <link rel="stylesheet" href="assets/css/main.css" />
  <script>
    // Theme: persist + apply from localStorage, default to system
    (()=>{
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const theme = saved || (prefersDark ? 'dark' : 'light');
      if(theme==='light') document.documentElement.setAttribute('data-theme','light');
    })();
  </script>
</head>
<body>
  <!-- ===== Header ===== -->
  <header>
    <nav class="container nav" id="nav" aria-label="Navigare principală">
      <a class="brand" href="#home" aria-label="Afa Art Design – Acasă">
        <img src="assets/img/brand-logo.png" alt="Afa Art Design" />
      </a>

      <button class="mobile-toggle"
              aria-label="Deschide meniul"
              aria-expanded="false"
              aria-controls="primaryNav">☰</button>

      <div class="nav-list" id="primaryNav">
        <a href="#promotii" data-scroll>Promoții</a>
        <a href="#servicii" data-scroll>Servicii</a>
        <a href="#galerie"  data-scroll>Galerie</a>
        <a href="#echipa"   data-scroll>Echipa</a>
        <a href="#contact"  data-scroll>Contact</a>
      </div>

      <div class="nav-cta">
        <a class="btn ghost magnetic-green" href="https://wa.me/+40790323945" target="_blank" rel="noopener">
          <i class="fa-brands fa-whatsapp" aria-hidden="true"></i> WhatsApp
        </a>
        <a class="btn magnetic-green" href="tel:+40790323945">
          <i class="fa-solid fa-phone" aria-hidden="true"></i> Sună
        </a>
        <a class="btn magnetic-green" href="checkout.html">
          🛒<span class="chip" data-cart-count hidden>0</span>
        </a>
      </div>
    </nav>
  </header>

  <!-- ===== Hero ===== -->
  <section class="hero fx-reveal" id="home">
    <div class="container wrap">
      <div>
        <div class="eyebrow"><span class="chip">Showroom Galați</span><i>•</i><span>Str. 1 Decembrie 1918, nr. 13</span></div>
        <h1>Finisaje premium pentru case care rămân în memorie</h1>
        <p class="lead">Gresie, parchet, vopsea decorativă Ferrara Design, riflaje și montaj cu echipe de încredere în Galați și județele limitrofe.</p>
        <div class="hero-cta">
          <a class="btn" href="https://maps.app.goo.gl/48Nuk6GfGFjcPnEeA" target="_blank" rel="noopener">Obține indicații</a>
          <a class="btn ghost magnetic-green" href="#promotii" data-scroll>Vezi promoțiile</a>
        </div>

        <div class="badge-row" aria-hidden="true">
          <span class="chip">Ferrara Design</span>
          <span class="chip">Plăci ceramice premium</span>
          <span class="chip">Montaj profesionist</span>
        </div>
      </div>
      <article class="grid product" data-product data-id="calota-gold-60x120" data-name="Calota Gold • 60×120" data-price="69" data-thumb="assets/img/promo-calotagold.jpg">
        <img class="thumb" src="assets/img/promo-calotagold.jpg" alt="Calota Gold 60×120" loading="lazy" />
        <div class="meta">
          <strong>Calota Gold • 60×120</strong><br><span class="price">69 RON/mp</span>
        </div>
        <button class="btn" data-add-to-cart aria-label="Adaugă Calota Gold în coș">Adaugă în coș</button>
      </article>

    </div>
  </section>

  <!-- ===== Scroll Banner ===== -->
  <section class="scroll-banner">
    <div class="scroll-container">
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Vopsea Decorativă <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Piatră spartă <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Piatră zen <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Plăci ceramice premium <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Parchet premium <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Plinte <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Riflaje <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Cornișe <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Montaj și aplicare <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Promoții <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Oferte personalizate <i class="fa-solid fa-star"></i></span>

      <!-- Repeat for seamless scroll -->
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Vopsea Decorativă <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Piatră spartă <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Piatră zen <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Plăci ceramice premium <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Parchet premium <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Plinte <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Riflaje <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Cornișe <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Montaj și aplicare <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Promoții <i class="fa-solid fa-star"></i></span>
      <span class="scroll-item"><i class="fa-solid fa-star"></i> Oferte personalizate <i class="fa-solid fa-star"></i></span>
    </div>
  </section>

  <!-- ===== Promoții / Produse ===== -->
  <section class="section fx-reveal" id="promotii" aria-labelledby="promotii-title">
    <div class="container">
      <h2 id="promotii-title">Promoțiile lunii</h2>
      <p class="muted">Selecție premium, prețuri imbatabile. Stocuri limitate în showroom.</p>
      <div class="grid product-grid">
        <article class="product">
          <img class="thumb" src="assets/img/promo-calotagold.jpg" alt="Calota Gold 60×120" loading="lazy" />
          <div class="meta"><strong>Calota Gold • 60×120</strong><span class="price">69 RON/mp</span></div>
        </article>
        <article class="product">
          <img class="thumb" src="assets/img/promo-emiwhite.jpg" alt="Emi White 60×120" loading="lazy" />
          <div class="meta"><strong>Emi White • 60×120</strong><span class="price">75 RON/mp</span></div>
        </article>
        <article class="product">
          <img class="thumb" src="assets/img/promo-plazzo.jpeg" alt="Plazzo 60×120" loading="lazy" />
          <div class="meta"><strong>Plazzo • 60×120</strong><span class="price">75 RON/mp</span></div>
        </article>
        <article class="product">
          <img class="thumb" src="assets/img/promo-moroblack.jpg" alt="Moro Black 60×120" loading="lazy" />
          <div class="meta"><strong>Moro Black • 60×120</strong><span class="price">75 RON/mp</span></div>
        </article>
        <article class="product">
          <img class="thumb" src="assets/img/promo-aspiregold.jpg" alt="Aspire Gold 60×120" loading="lazy" />
          <div class="meta"><strong>Aspire Gold • 60×120</strong><span class="price">79,99 RON/mp</span></div>
        </article>
        <article class="product">
          <img class="thumb" src="assets/img/promo-brazil.jpeg" alt="Brazil 1 60.5×121" loading="lazy" />
          <div class="meta"><strong>Brazil 1 • 60.5×121</strong><span class="price">79,99 RON/mp</span></div>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== Servicii ===== -->
  <section class="section fx-reveal" id="servicii">
    <div class="container">
      <div class="grid cards">
        <article class="card span-6">
          <div class="icon">🎨</div>
          <div class="title">Vopsea & Tencuială Decorativă</div>
          <p class="muted">Aplicatori autorizați Ferrara Design. Mostră personalizată, consultanță în showroom și montaj rapid.</p>
        </article>
        <article class="card span-6">
          <div class="icon">🪵</div>
          <div class="title">Parchet & Elemente Decorative</div>
          <p class="muted">SPC, herringbone, plinte, riflaje și profile. Montaj curat, garantat.</p>
        </article>
        <article class="card span-6">
          <div class="icon">🧱</div>
          <div class="title">Plăci Ceramice & Montaj</div>
          <p class="muted">Selecție premium, linii contemporane. Plănuire rosturi, adezivi potriviți, execuție fără surprize.</p>
        </article>
        <article class="card span-6">
          <div class="icon">🧭</div>
          <div class="title">Consultanță & Măsurători</div>
          <p class="muted">Venim cu idei, mostre și calcule de necesar. Oferim deviz clar, fără costuri ascunse.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== Galerie (compact grid, with toggle & lazy-load) ===== -->
  <section class="section fx-reveal" id="galerie">
    <div class="container">
      <h2>Galerie lucrări</h2>
      <p class="muted" style="text-align:center">
        Câteva dintre cele mai tari lucrări ale noastre 😎 Apasă butonul pentru a afișa/ascunde galeria.
      </p>

      <button
        id="toggle-gallery"
        type="button"
        class="btn btn-outline"
        aria-controls="gallery-section"
        aria-expanded="false">
        <i class="fa-solid fa-images" aria-hidden="true"></i>
        <span class="label">Vezi galeria</span>
      </button>

      <div id="gallery-section" hidden>
        <div id="legacy-gallery"></div>
      </div>

      <noscript>
        <p style="text-align:center">Pentru a vedea galeria ai nevoie de JavaScript activat.</p>
      </noscript>
    </div>
  </section>

  <!-- ===== Echipa / Testimonials ===== -->
  <section class="section fx-reveal" id="echipa">
    <div class="container">
      <h2>Echipa</h2>
      <div class="row">
        <article class="testi card">
          <img class="avatar" src="assets/img/florin.png" alt="Florin Atanasof" loading="lazy" />
          <div>
            <strong>Florin Atanasof</strong>
            <p class="muted">• Fondator</p>
          </div>
        </article>
        <article class="testi card">
          <img class="avatar" src="assets/img/auras.png" alt="Aurelia Mihalache" loading="lazy" />
          <div>
            <strong>Aurelia Mihalache</strong>
            <p class="muted">• Co-Fondator</p>
          </div>
        </article>
        <article class="testi card">
          <img class="avatar" src="assets/img/andrei.png" alt="Andrei Pintilie" loading="lazy" />
          <div>
            <strong>Andrei Pintilie</strong>
            <p class="muted">• Designer, Web Developer, Marketing</p>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== Contact ===== -->
  <section class="section fx-reveal" id="contact">
    <div class="container">
      <div class="grid contact-grid-2">
        <!-- Contact info card -->
        <div class="card--contact">
          <h3 class="card-title">Suntem aici pentru proiectul tău</h3>
          <ul class="contact-list">
            <li>
              <a href="https://maps.app.goo.gl/48Nuk6GfGFjcPnEeA" target="_blank" rel="noopener">
                <i class="fa-solid fa-location-dot" aria-hidden="true"></i>
                Strada 1 Decembrie 1918, nr. 13, zona „Două Babe”, Galați, România
              </a>
            </li>
            <li>
              <a href="tel:+40790323945">
                <i class="fa-solid fa-phone" aria-hidden="true"></i>
                +40 790 323 945
              </a>
            </li>
            <li>
              <a href="mailto:afaartdesign@gmail.com">
                <i class="fa-solid fa-envelope" aria-hidden="true"></i>
                afaartdesign@gmail.com
              </a>
            </li>
            <li>
              <a href="https://facebook.com/afaartdesign" target="_blank" rel="noopener">
                <i class="fa-brands fa-facebook-f" aria-hidden="true"></i>
                Afa Art Design
              </a>
            </li>
            <li>
              <a href="https://instagram.com/afaartdesign" target="_blank" rel="noopener">
                <i class="fa-brands fa-instagram" aria-hidden="true"></i>
                @afaartdesign
              </a>
            </li>
            <li>
              <a href="https://tiktok.com/@afaartdesign" target="_blank" rel="noopener">
                <i class="fa-brands fa-tiktok" aria-hidden="true"></i>
                @afaartdesign
              </a>
            </li>
          </ul>

          <div class="hero-cta">
            <a class="btn magnetic-green" href="https://wa.me/+40790323945" target="_blank" rel="noopener">
              <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
              Scrie-ne pe WhatsApp
            </a>
            <a class="btn ghost magnetic-magenta" href="https://maps.app.goo.gl/48Nuk6GfGFjcPnEeA" target="_blank" rel="noopener">
              <i class="fa-solid fa-map-location-dot" aria-hidden="true"></i>
              Vezi pe hartă
            </a>
          </div>
        </div>

        <!-- Map card -->
        <div class="card--map">
          <div class="map-embed">
            <iframe
              title="Harta showroom Afa Art Design"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4005.7508295430744!2d28.022234999999995!3d45.4438683!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40b6de6251e757cf%3A0xd77de99e7510d5b4!2sAfa%20Art%20Design!5e1!3m2!1sro!2sro!4v1755124203085!5m2!1sro!2sro"
              loading="lazy" allowfullscreen referrerpolicy="no-referrer-when-downgrade">
            </iframe>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- ===== CTA BAR (sticky bottom) ===== -->
  <div class="cta-bar" aria-hidden="false">
    <div class="container wrap">
      <button class="btn ghost magnetic-blue" id="openBooking">
        <i class="fa-regular fa-comment-dots" aria-hidden="true"></i>
        Hai să stăm de vorbă!
      </button>

      <a class="btn ghost magnetic-green" href="tel:+40790323945">
        <i class="fa-solid fa-phone" aria-hidden="true"></i>
        Sună
      </a>

      <a class="btn ghost magnetic-green" href="https://wa.me/+40790323945" target="_blank" rel="noopener">
        <i class="fa-brands fa-whatsapp" aria-hidden="true"></i>
        WhatsApp
      </a>

      <a class="btn ghost magnetic-magenta" href="#promotii" data-scroll>
        <i class="fa-solid fa-tags" aria-hidden="true"></i>
        Promoții
      </a>
    </div>
  </div>

  <!-- Booking Modal -->
  <div class="modal" id="bookingModal" hidden>
    <div class="modal-content">
      <button class="modal-close" id="closeBooking" aria-label="Închide modal">&times;</button>
      <h2>Contactează-ne!</h2>
      <form id="bookingForm">
        <label for="name">Nume *</label>
        <input type="text" id="name" name="name" required>

        <label for="phone">Telefon (opțional)</label>
        <input type="tel" id="phone" name="phone">

        <label for="email">Email *</label>
        <input type="email" id="email" name="email" required>

        <label for="message">Mesaj *</label>
        <textarea id="message" name="message" rows="4" required></textarea>

        <label for="contactPref">Cum preferi să te contactăm? *</label>
        <select id="contactPref" name="contactPref" required>
          <option value="">Selectează...</option>
          <option value="email">Email</option>
          <option value="telefon">Telefon</option>
          <option value="whatsapp">WhatsApp</option>
        </select>

        <button type="submit" class="btn ghost magnetic-blue">
          <i class="fa-regular fa-paper-plane"></i> Trimite
        </button>
      </form>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="row" style="align-items:center;justify-content:space-between">
        <small>© <span id="y"></span> AFA ART DESIGN, Toate drepturile rezervate.</small>
        <div class="row" style="gap:16px">
          <a href="/politica-confidentialitate.html">
            <i class="fa-solid fa-shield-halved" aria-hidden="true"></i>
            Politica de confidențialitate
          </a>
          <a href="/politica-cookie.html">
            <i class="fa-solid fa-cookie-bite" aria-hidden="true"></i>
            Politica cookie
          </a>
          <a href="/termeni-si-conditii.html">
            <i class="fa-solid fa-scale-balanced" aria-hidden="true"></i>
            Termeni & condiții
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scroll to Top Button -->
  <button id="scrollTopBtn" aria-label="Înapoi sus">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <!-- Fancy Floating Contact Button (deschide același modal) -->
  <button id="fabContact" class="fab-contact" aria-label="Contact rapid">
    <i class="fa-regular fa-comment-dots" aria-hidden="true"></i>
    <span class="fab-text">Scrie-ne!</span>
  </button>

  <!-- === CORE / UTIL === -->
  <script>
    // Scroll-to-top
    (()=>{
      const btn = document.getElementById('scrollTopBtn');
      if(!btn) return;
      const onScroll = () => btn.classList.toggle('show', window.scrollY > 200);
      window.addEventListener('scroll', onScroll, {passive:true});
      onScroll();
      btn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));
    })();

    // Current year (safe)
    (()=>{
      const y = document.getElementById('y');
      if (y) y.textContent = new Date().getFullYear();
    })();

    // Smooth scroll for anchors
    document.addEventListener('click', (e)=>{
      const link = e.target.closest('a[href^="#"][data-scroll], .nav-list a[href^="#"], a.btn[href^="#galerie"]');
      if(!link) return;
      const target = document.querySelector(link.getAttribute('href'));
      if(!target) return;
      e.preventDefault();
      target.scrollIntoView({behavior:'smooth', block:'start'});
    });

    // Theme toggle
    document.getElementById('themeToggle')?.addEventListener('click',()=>{
      const isLight = document.documentElement.getAttribute('data-theme')==='light';
      if(isLight){
        document.documentElement.removeAttribute('data-theme');
        localStorage.setItem('theme','dark');
      }else{
        document.documentElement.setAttribute('data-theme','light');
        localStorage.setItem('theme','light');
      }
    });
  </script>

  <!-- === NAV: Mobile toggle (open/close) === -->
  <script>
    (()=>{
      const nav = document.getElementById('nav');
      const btn = nav?.querySelector('.mobile-toggle');
      const list = document.getElementById('primaryNav');
      if(!nav || !btn || !list) return;

      function setOpen(open){
        nav.classList.toggle('open', open);
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      }

      btn.addEventListener('click', (e) => {
        e.preventDefault();
        setOpen(!nav.classList.contains('open'));
      });

      // click în afară -> închide
      document.addEventListener('click', (e) => {
        if(!nav.classList.contains('open')) return;
        if(e.target.closest('#nav')) return;
        setOpen(false);
      });

      // Escape -> închide
      document.addEventListener('keydown', (e) => {
        if(e.key === 'Escape') setOpen(false);
      });
    })();
  </script>

  <!-- === REVEAL / ANIMATIONS === -->
  <script>
    // .fx-reveal utility (class-based)
    (()=>{
      const els = document.querySelectorAll('.fx-reveal');
      if (!els.length) return;
      const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduce || !('IntersectionObserver' in window)) {
        els.forEach(el => el.classList.add('is-in'));
        return;
      }
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            entry.target.classList.add('is-in');
            io.unobserve(entry.target);
          }
        });
      }, {threshold:.12, rootMargin:'0px 0px -10% 0px'});
      els.forEach(el=>io.observe(el));
    })();

    // Progressive enhance: fade-in on common cards (WAAPI)
    (()=>{
      const reduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reduce || !('IntersectionObserver' in window) || !('animate' in Element.prototype)) return;
      const els = document.querySelectorAll('.card, .product, .hero-card, .card.testimonial');
      if(!els.length) return;
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            e.target.animate(
              [{opacity:0, transform:'translateY(14px)'},{opacity:1, transform:'translateY(0)'}],
              {duration:500, easing:'cubic-bezier(.2,.8,.2,1)', fill:'both'}
            );
            io.unobserve(e.target);
          }
        });
      }, {threshold:.12});
      els.forEach(el=>io.observe(el));
    })();
  </script>

  <!-- === LEGACY GALLERY / LIGHTBOX SAFETY === -->
  <script>
    // Hook pentru scriptul legacy (dacă îl folosești)
    window.__AFA_GALLERY_TARGET = 'legacy-gallery';
    // Safety CSS pentru Lightbox
    (()=>{
      const s = document.createElement('style');
      s.textContent = `.lb-outerContainer{max-width:95vw} .lb-image{max-height:82vh}`;
      document.head.appendChild(s);
    })();
  </script>

  <!-- === DROPDOWN NAV (click/tap + închidere în afară + ARIA) === -->
  <script>
    (()=>{
      // HTML așteptat:
      // <li class="has-dropdown">
      //   <a href="#" class="dropdown-toggle" aria-expanded="false">Produse</a>
      //   <ul class="dropdown"> ... </ul>
      // </li>

      document.addEventListener('click', (e) => {
        const toggle = e.target.closest('.dropdown-toggle, .has-dropdown > a');
        const li = toggle?.closest('.has-dropdown');

        // Toggle pe click/tap
        if (li && toggle) {
          e.preventDefault();
          const open = li.classList.toggle('is-open');
          toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
          // Închide alte dropdown-uri
          document.querySelectorAll('.has-dropdown.is-open').forEach(other => {
            if (other !== li) {
              other.classList.remove('is-open');
              const t = other.querySelector('.dropdown-toggle, :scope > a');
              t?.setAttribute('aria-expanded', 'false');
            }
          });
          return;
        }

        // Click în afară => închide toate
        if (!e.target.closest('.has-dropdown')) {
          document.querySelectorAll('.has-dropdown.is-open').forEach(openLi => {
            openLi.classList.remove('is-open');
            const t = openLi.querySelector('.dropdown-toggle, :scope > a');
            t?.setAttribute('aria-expanded', 'false');
          });
        }
      });

      // Accesibilitate: deschide la focus, închide la blur total
      document.querySelectorAll('.has-dropdown').forEach(li => {
        li.addEventListener('focusin', () => li.classList.add('is-open'));
        li.addEventListener('focusout', (ev) => {
          if (!li.contains(ev.relatedTarget)) {
            li.classList.remove('is-open');
            const t = li.querySelector('.dropdown-toggle, :scope > a');
            t?.setAttribute('aria-expanded', 'false');
          }
        });
      });
    })();
  </script>

  <!-- === MAGNETIC HOVER (unificat, pentru .btn.magnetic-green/.magnetic-magenta) === -->
  <script>
    (()=>{
      const targets = Array.from(document.querySelectorAll('.btn.magnetic-green, .btn.magnetic-magenta'));
      if(!targets.length) return;

      let active = null, px=0, py=0, ticking=false;

      function setVars(el, x, y){
        const r = el.getBoundingClientRect();
        el.style.setProperty('--mx', ((x - r.left) / r.width * 100) + '%');
        el.style.setProperty('--my', ((y - r.top)  / r.height * 100) + '%');
      }

      function onEnter(e){ active = e.currentTarget; }
      function onLeave(){ active = null; }

      targets.forEach(el=>{
        el.addEventListener('pointerenter', onEnter);
        el.addEventListener('pointerleave', onLeave);
      });

      window.addEventListener('pointermove', (e)=>{
        if(!active) return;
        px = e.clientX; py = e.clientY;
        if(!ticking){
          requestAnimationFrame(()=>{ if(active) setVars(active, px, py); ticking=false; });
          ticking = true;
        }
      }, {passive:true});
    })();
  </script>

  <!-- === STICKY HEADER FALLBACK (trece pe fixed dacă sticky e „rupt”) === -->
  <script>
    (()=>{
      const header = document.querySelector('header');
      if (!header) return;

      function stickyWorks(){
        const before = header.getBoundingClientRect().top;
        window.scrollBy(0, 2);
        const after = header.getBoundingClientRect().top;
        window.scrollBy(0, -2);
        return Math.abs(after - before) < 0.5;
      }

      function enableFixed(){
        if (header.classList.contains('is-fixed')) return;
        header.classList.add('is-fixed');
        document.body.style.paddingTop = header.offsetHeight + 'px';
      }

      requestAnimationFrame(() => {
        if (!CSS.supports || !CSS.supports('position', 'sticky')) { enableFixed(); return; }
        if (!stickyWorks()) { enableFixed(); }
        let to = null;
        window.addEventListener('resize', () => {
          clearTimeout(to);
          to = setTimeout(() => {
            header.classList.remove('is-fixed');
            document.body.style.paddingTop = '';
            if (!stickyWorks()) enableFixed();
          }, 120);
        });
      });
    })();
  </script>
  <script>
    // Magnetic hover effect (pale blue) for .magnetic-blue
    document.querySelectorAll('.magnetic-blue').forEach(btn => {
      btn.addEventListener('mousemove', e => {
        const rect = btn.getBoundingClientRect();
        const x = ((e.clientX - rect.left) / rect.width) * 100;
        const y = ((e.clientY - rect.top) / rect.height) * 100;
        btn.style.setProperty('--x', `${x}%`);
        btn.style.setProperty('--y', `${y}%`);
        btn.style.setProperty('--tx', `${(x - 50) / 15}px`);
        btn.style.setProperty('--ty', `${(y - 50) / 15}px`);
      });
      btn.addEventListener('mouseleave', () => {
        btn.style.removeProperty('--tx');
        btn.style.removeProperty('--ty');
      });
    });
  </script>

  <!-- === MODULES === -->
  <script type="module" src="assets/js/gallery.js"></script>
  <script type="module" src="assets/js/gallery-toggle.js"></script>
  <script type="module" src="assets/js/shrink-header.js"></script>
  <script type="module" src="assets/js/modal-control.js"></script>
  <script src="assets/js/cart.js"></script>


</body>
</html>
